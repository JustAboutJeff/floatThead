// @preserve jQuery.floatThead 1.2.8 - http://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2014 Misha Koryak
// @license MIT
!function(t){function e(t,e,o){if(8==a){var n=f.width(),i=l.debounce(function(){var t=f.width();n!=t&&(n=t,o())},t);f.on(e,i)}else f.on(e,l.debounce(o,t))}function o(t){window.console&&window.console&&window.console.log&&window.console.log(t)}function n(){var e=t('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);var o=e.innerWidth(),n=t("div",e).innerWidth();return e.remove(),o-n}function i(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var o=t.dataTableSettings[e].nTable;if(t[0]==o)return!0}return!1}t.floatThead=t.floatThead||{},t.floatThead.defaults={cellTag:"th:visible",zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(){return t([])},getSizingRow:function(t){return t.find("tbody tr:visible:first>*")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,debug:!1};var l=window._,a=function(){for(var t=3,e=document.createElement("b"),o=e.all||[];t=1+t,e.innerHTML="<!--[if gt IE "+t+"]><i><![endif]-->",o[0];);return t>4?t:document.documentMode}(),r=null,s=function(){if(a)return!1;var e=t("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");t("body").append(e);var o=e.find("col").width();return e.remove(),0==o},f=t(window),c=0;t.fn.floatThead=function(d){if(d=d||{},!l&&(l=window._||t.floatThead._,!l))throw Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>a)return this;if(null==r&&(r=s(),r&&(document.createElement("fthtr"),document.createElement("fthtd"),document.createElement("fthfoot"))),l.isString(d)){var u=d,h=this;return this.filter("table").each(function(){var e=t(this).data("floatThead-attached");if(e&&l.isFunction(e[u])){var o=e[u]();void 0!==o&&(h=o)}}),h}var p=t.extend({},t.floatThead.defaults||{},d);return t.each(d,function(e){e in t.floatThead.defaults||!p.debug||o("jQuery.floatThead: used ["+e+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+l.keys(t.floatThead.defaults).join(", "))}),this.filter(":not(."+p.floatTableClass+")").each(function(){function o(t){return t+".fth-"+j+".floatTHead"}function s(){var e=0;S.find("tr:visible").each(function(){e+=t(this).outerHeight(!0)}),K.outerHeight(e),U.outerHeight(e)}function d(){var t=x.outerWidth(),e=D.width()||t;if($.width(e-W.vertical),M){var o=100*t/(e-W.vertical);P.css("width",o+"%")}else P.outerWidth(t)}function u(){L=(l.isFunction(p.scrollingTop)?p.scrollingTop(x):p.scrollingTop)||0,E=(l.isFunction(p.scrollingBottom)?p.scrollingBottom(x):p.scrollingBottom)||0}function h(){var e,o;if(V?e=N.find("col").length:(o=S.find("tr:first>"+p.cellTag),e=0,o.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})),e!=q){q=e;for(var n,i=[],l=[],a=[],s=0;e>s;s++)i.push((n=o.eq(s).html())?'<th scope="col" class="floatThead-col">'+n+"</th>":'<th class="floatThead-col"/>'),l.push("<col/>"),a.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");l=l.join(""),i=i.join(""),r&&(a=a.join(""),Y.html(a),te=Y.find("fthtd")),K.html(i),U=K.find("th"),V||N.html(l),X=N.find("col"),G.html(l),Z=G.find("col")}return e}function v(){if(!H){if(H=!0,I){var t=x.width(),e=k.width();t>e&&x.css("minWidth",t)}x.css(oe),P.css(oe),P.append(S),z.before(J),s()}}function g(){H&&(H=!1,I&&x.width(ie),J.detach(),x.prepend(S),x.css(ne),P.css(ne))}function w(t){I!=t&&(I=t,$.css({position:I?"absolute":"fixed"}))}function b(t,e,o,n){return r?o:n?p.getSizingRow(t,e,o):e}function T(){var t,e=h();return function(){var o=b(x,X,te,a);if(o.length==e&&e>0){if(!V)for(t=0;e>t;t++)X.eq(t).css("width","");for(g(),t=0;e>t;t++){var n=o.get(t),i=n.offsetWidth;Z.eq(t).width(i),X.eq(t).width(i)}v()}else P.append(S),x.css(ne),P.css(ne),s()}}function y(){var t,e=D.scrollTop(),o=0,n=Q?F.outerHeight(!0):0,i=_?n:-n,l=$.height(),a=x.offset();if(M){var s=D.offset();o=a.top-s.top+e,Q&&_&&(o+=n)}else t=a.top-L-l+E+W.horizontal;var c=f.scrollTop(),d=f.scrollLeft(),u=D.scrollLeft();return e=D.scrollTop(),function(s){if("windowScroll"==s?(c=f.scrollTop(),d=f.scrollLeft()):"containerScroll"==s?(e=D.scrollTop(),u=D.scrollLeft()):"init"!=s&&(c=f.scrollTop(),d=f.scrollLeft(),e=D.scrollTop(),u=D.scrollLeft()),!r||c>=0&&d>=0){if(A)w("windowScrollDone"==s?!0:!1);else if("windowScrollDone"==s)return null;a=x.offset(),Q&&_&&(a.top+=n);var h,p,b=x.outerHeight();if(M&&I){if(o<e)h=O?0:e;else{var T=o-e;T=T>0?T:0,h=T}p=0}else!M&&I?(c>t+b+i?h=b-l+i:a.top>c+L?(h=0,g()):(h=L+c-a.top+o+(_?n:0),v()),p=0):M&&!I?(o>e||e-o>b?(h=a.top-c,g()):(h=a.top+e-c-o,v()),p=a.left+u-d):M||I||(c>t+b+i?h=b+L-c+t+i:a.top>c+L?(h=a.top-c,v()):h=L,p=a.left-d);return{top:h,left:p}}}}function m(){var t=null,e=null,o=null;return function(n,i,l){null==n||t==n.top&&e==n.left||($.css({top:n.top,left:n.left}),t=n.top,e=n.left),i&&d(),l&&s();var a=D.scrollLeft();o!=a&&($.scrollLeft(a),o=a)}}function C(){if(D.length){var t=D.width(),e=D.height(),o=x.height(),n=x.width(),i=n>t?R:0,l=o>e?R:0;W.horizontal=n>t-l?R:0,W.vertical=o>e-i?R:0}}var j=c,x=t(this);if(x.data("floatThead-attached"))return!0;if(!x.is("table"))throw Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');var S=x.find("thead:first"),z=x.find("tbody:first");if(0==S.length)throw Error("jQuery.floatThead must be run on a table that contains a <thead> element");var L,E,H=!1,W={vertical:0,horizontal:0},R=n(),q=0,D=p.scrollContainer(x)||t([]),I=p.useAbsolutePositioning;null==I&&(I=p.scrollContainer(x).length);var F=x.find("caption"),Q=1==F.length;if(Q)var _="top"===(F.css("caption-side")||F.attr("align")||"top");var B=t('<fthfoot style="display:table-footer-group;"/>'),M=D.length>0,O=!1,k=t([]),A=9>=a&&!M&&I,P=t("<table/>"),G=t("<colgroup/>"),N=x.find("colgroup:first"),V=!0;0==N.length&&(N=t("<colgroup/>"),V=!1);var Y=t('<fthrow style="display:table-row;height:0;"/>'),$=t('<div style="overflow: hidden;"></div>'),J=t("<thead/>"),K=t('<tr class="size-row"/>'),U=t([]),X=t([]),Z=t([]),te=t([]);if(J.append(K),x.prepend(N),r&&(B.append(Y),x.append(B)),P.append(G),$.append(P),p.copyTableClass&&P.attr("class",x.attr("class")),P.attr({cellpadding:x.attr("cellpadding"),cellspacing:x.attr("cellspacing"),border:x.attr("border")}),P.addClass(p.floatTableClass).css("margin",0),I){var ee=function(t,e){var o=t.css("position"),n="relative"==o||"absolute"==o;if(!n||e){var i={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};$.css(i),t=t.wrap("<div class='"+p.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),O=!0}return t};M?(k=ee(D,!0),k.append($)):(k=ee(x),x.after($))}else x.after($);$.css({position:I?"absolute":"fixed",marginTop:0,top:I?0:"auto",zIndex:p.zIndex}),$.addClass(p.floatContainerClass),u();var oe={"table-layout":"fixed"},ne={"table-layout":x.css("tableLayout")||"auto"},ie=x[0].style.width||"";C();var le,ae=function(){(le=T())()};ae();var re=y(),se=m();se(re("init"),!0);var fe=l.debounce(function(){se(re("windowScrollDone"),!1)},300),ce=function(){se(re("windowScroll"),!1),fe()},de=function(){se(re("containerScroll"),!1)},ue=function(){u(),C(),ae(),re=y(),(se=m())(re("resize"),!0,!0)},he=l.debounce(function(){C(),u(),ae(),re=y(),se(re("reflow"),!0)},1);M?I?D.on(o("scroll"),de):(D.on(o("scroll"),de),f.on(o("scroll"),ce)):f.on(o("scroll"),ce),f.on(o("load"),he),e(p.debounceResizeMs,o("resize"),ue),x.on("reflow",he),i(x)&&x.on("filter",he).on("sort",he).on("page",he),x.data("floatThead-attached",{destroy:function(){var t=".fth-"+j;g(),x.css(ne),N.remove(),r&&B.remove(),J.parent().length&&J.replaceWith(S),x.off("reflow"),D.off(t),O&&D.unwrap(),$.remove(),x.data("floatThead-attached",!1),f.off(t)},reflow:function(){he()},setHeaderHeight:function(){s()},getFloatContainer:function(){return $},getRowGroups:function(){return H?$.find("thead").add(x.find("tbody,tfoot")):x.find("thead,tbody,tfoot")}}),c++}),this}}(jQuery),function(t){t.floatThead=t.floatThead||{},t.floatThead._=window._||function(){var e={},o=Object.prototype.hasOwnProperty,n=["Arguments","Function","String","Number","Date","RegExp"];return e.has=function(t,e){return o.call(t,e)},e.keys=function(t){if(t!==Object(t))throw new TypeError("Invalid object");var o=[];for(var n in t)e.has(t,n)&&o.push(n);return o},t.each(n,function(){var t=this;e["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}),e.debounce=function(t,e,o){var n,i,l,a,r;return function(){l=this,i=arguments,a=new Date;var s=function(){var f=new Date-a;e>f?n=setTimeout(s,e-f):(n=null,o||(r=t.apply(l,i)))},f=o&&!n;return n||(n=setTimeout(s,e)),f&&(r=t.apply(l,i)),r}},e}()}(jQuery);
